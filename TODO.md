# TODO - fließend ミニマルプロトタイプ

**目標:** Tab/Shift+Tabでフォルダ階層を編集できる最小限の動くプロトタイプ

**総見積もり:** 40-60時間（1-2週間）

---

## Phase 0: 環境セットアップ (4-6時間)

- [ ] Electronプロジェクトの初期化
  - `npm init` + Electron インストール
  - 基本的なmain.js, index.html作成
  - **時間:** 1-2時間

- [ ] 開発環境の整備
  - Hot reload設定（electron-reload等）
  - デバッグ環境
  - **時間:** 1-2時間

- [ ] 基本UIフレームワークの選定と導入
  - オプション: React / Vue / プレーンJS
  - 推奨: まずはプレーンJSで軽量に
  - **時間:** 2時間

---

## Phase 1: 基本表示機能 (8-12時間)

- [ ] フォルダ選択ダイアログ
  - Electronのdialog APIで実装
  - 選択したパスを保持
  - **時間:** 2-3時間

- [ ] フォルダツリーの読み込み
  - Node.js `fs.readdir` (recursive)
  - ツリーデータ構造の構築
  - **時間:** 3-4時間

- [ ] ツリーの表示
  - インデント表示（階層の深さに応じて）
  - フォルダ/ファイルの区別
  - **時間:** 3-5時間

---

## Phase 2: インタラクション (12-16時間)

- [ ] バレット表示（基本）
  - 全アイテムに `・` を表示
  - **時間:** 1時間

- [ ] ホバー時の矢印表示
  - フォルダにマウスホバー時
  - 開閉状態に応じて `>` / `∨` を左に表示
  - CSS transition
  - **時間:** 2-3時間

- [ ] フォルダの開閉機能
  - クリック or スペースキーで開閉
  - 状態管理
  - **時間:** 3-4時間

- [ ] キーボードナビゲーション
  - ↑↓で選択移動
  - Enter/Spaceで開閉
  - **時間:** 2-3時間

- [ ] ファイルクリックで外部エディタで開く
  - Electron `shell.openPath()`
  - **時間:** 1-2時間

- [ ] アイテム選択のハイライト
  - 選択中のアイテムを視覚的に強調
  - **時間:** 1-2時間

---

## Phase 3: コア機能 - 階層変更 (12-16時間)

- [ ] Tab/Shift+Tabキーバインド
  - キーイベントのハンドリング
  - **時間:** 1-2時間

- [ ] Tab: 階層を下げる（インデント増やす）
  - 選択アイテムを1つ上のアイテムの子にする
  - ロジック実装
  - **時間:** 4-5時間

- [ ] Shift+Tab: 階層を上げる（インデント減らす）
  - 選択アイテムを親の兄弟にする
  - ロジック実装
  - **時間:** 4-5時間

- [ ] UIの即座の更新
  - ツリー表示の再レンダリング
  - **時間:** 2-3時間

---

## Phase 4: ファイルシステム反映 (8-12時間)

- [ ] ファイル/フォルダの移動実装
  - Node.js `fs.rename()` 使用
  - パス計算ロジック
  - **時間:** 4-6時間

- [ ] エラーハンドリング
  - 権限エラー
  - 同名ファイル/フォルダの衝突
  - 移動不可能なケース
  - **時間:** 3-4時間

- [ ] 操作のUndoバッファ（オプション）
  - 最低限：エラー時のロールバック
  - **時間:** 1-2時間

---

## Phase 5: UI/UX洗練 (4-6時間)

- [ ] スタイリング
  - フォント、色、間隔の調整
  - モダンなルック
  - **時間:** 2-3時間

- [ ] ローディング状態の表示
  - 大きなフォルダツリーの読み込み中
  - **時間:** 1-2時間

- [ ] 基本的なフィードバック
  - 移動成功/失敗の通知
  - **時間:** 1時間

---

## Phase 6: テストと仕上げ (4-6時間)

- [ ] 手動テスト
  - 各種操作の動作確認
  - エッジケースの確認
  - **時間:** 2-3時間

- [ ] パフォーマンステスト
  - 大量ファイルでの動作確認
  - **時間:** 1-2時間

- [ ] README更新
  - 使い方の説明
  - スクリーンショット
  - **時間:** 1時間

---

## 今後の拡張（Phase 0では実装しない）

- [ ] ファイル/フォルダの新規作成
- [ ] 削除機能
- [ ] リネーム機能
- [ ] Markdown展開表示
- [ ] メタデータ（.outline-meta/）
- [ ] 複数選択・一括操作
- [ ] ドラッグ&ドロップ
- [ ] 検索機能
- [ ] キーボードショートカット一覧

---

## 技術スタック（確定）

- **フレームワーク:** Electron
- **UI:** HTML + CSS + JavaScript (プレーンJS)
- **ファイル操作:** Node.js `fs` モジュール
- **ビルド:** electron-builder

---

**開発開始日:** 2025-11-01
**目標完成日:** 2025-11-15 (2週間後)

---

## メモ

- ミニマル版の核心：「Tab/Shift+Tabでフォルダが動く」これを体感することが全て
- UI/UXは後回しでOK、まず動くものを
- エラーハンドリングは最低限（壊れないように）
- パフォーマンスは後で考える（まずは100ファイル程度で動けばOK）
